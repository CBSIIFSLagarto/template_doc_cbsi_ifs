%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Copyright 2014 Thiago Nascimento                                         %%
%%                                                                          %%
%% Licensed under the Apache License, Version 2.0 (the "License");          %%
%% you may not use this file except in compliance with the License.         %%
%% You may obtain a copy of the License at                                  %%
%%                                                                          %%
%%     http://www.apache.org/licenses/LICENSE-2.0                           %%
%%                                                                          %%
%% Unless required by applicable law or agreed to in writing, software      %%
%% distributed under the License is distributed on an "AS IS" BASIS,        %%
%% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. %%
%% See the License for the specific language governing permissions and      %%
%% limitations under the License.                                           %%
%%                                                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Modelo de trabalho acadêmico para Mestrado Acadêmico e Profissional      %%
%% da Universidade Estadual do Ceará - UECE                                 %%
%%                                                                          %%
%% Autor: Thiago Nascimento                                                 %%
%%                                                                          %%
%% Projeto hospedado em: https://github.com/thiagodnf/abntex2-uece          %%
%%                                                                          %%
%% Informações:                                                             %%
%%        Codificação utilizada: UTF-8                                      %%
%%      Tamanho da tabulação: 4 (espaços)                                   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Se você quer ver as margens do documento no PDF, descomente essa linha
%\usepackage[showframe, pass]{geometry}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%             Definições              %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Organiza e gera a lista de abreviaturas, simbolos e glossario
\makeglossaries

% Importa o arquivo com as entradas do glassario
\input{capitulos/glossario}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%          Formataçãas Páginas        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Define o espaço entre linhas para 1.5 cm
%\OnehalfSpacing	Bug no ABNTEX2?
\renewcommand{\baselinestretch}{1.5}

% Define as margens do documento
\setlrmarginsandblock{3cm}{2cm}{*} % externa / interna
\setulmarginsandblock{3cm}{2cm}{*} % superior / inferior

% Espacamentos nos titulos:
% chapter
\setlength{\beforechapskip}{-\onelineskip} %com 0 nao funcionou
\setlength{\afterchapskip}{\onelineskip} % antes do titulo de capitulo
%\setlength\beforechapskip{-18pt}

% section
\setbeforesecskip{\onelineskip}
\setaftersecskip{\onelineskip}

% subsection
\setbeforesubsecskip{\onelineskip}
\setaftersubsecskip{\onelineskip}

% subsubsection
\setbeforesubsubsecskip{\onelineskip}
\setaftersubsubsecskip{\onelineskip}

% subsubsubsection
\setbeforeparaskip{\onelineskip}
\setafterparaskip{\onelineskip}

% Define a distância da margem esquerda do parágrafo
\setlength{\parindent}{2cm}

% Estilo do chapter 1
\renewcommand{\ABNTEXchapterfont}{\bfseries}
\renewcommand{\ABNTEXchapterfontsize}{\normalsize}

% Estilo da section 1.1
\renewcommand{\ABNTEXsectionfont}{\normalfont}
\renewcommand{\ABNTEXsectionfontsize}{\normalsize}

% Estilo da subsection 1.1.1
\renewcommand{\ABNTEXsubsectionfont}{\bfseries}
\renewcommand{\ABNTEXsubsectionfontsize}{\normalsize}

% Estilo da subsection 1.1.1.1
\renewcommand{\ABNTEXsubsubsectionfont}{\normalfont}
\renewcommand{\ABNTEXsubsubsectionfontsize}{\normalsize}

% Estilo da subsection 1.1.1.1
\renewcommand{\ABNTEXsubsubsubsectionfont}{\normalfont\itshape}
\renewcommand{\ABNTEXsubsubsubsectionfontsize}{\normalsize}


% Margen da legenda da figura e da tabela
\captionsetup{justification=centering,margin=1cm}

% Espaçamento entre o texto e a legenda
\setlength{\belowcaptionskip}{0.5cm}

% Retira espaço extra obsoleto entre as frases.
\frenchspacing

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%              Funções                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Verifica se uma determinada macro não está vazia
\newcommand{\ifnotempty}[2]{\ifthenelse{\not\equal{#1}{}}{#2}{}}

% Verifica se uma determinada macro está vazia
\newcommand{\ifempty}[2]{\ifthenelse{\equal{#1}{}}{#2}{}}

% Imprime a fonte das imagens
\newcommand{\fontedafigura}[2]{ %
	\vspace{-0.5cm}
	\begin{center} %
		\parbox{#1}{%
			\small{Fonte: #2}%
		} %
	\end{center} %
}

% Imprime a fonte das imagens
\newcommand{\fontedatabela}[2]{ %
	\\\hspace{\linewidth}%
	\parbox{#1}{%
		\small{Fonte: #2} %
	} %
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%             Variáveis               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\ies}{\def \@ies}
\newcommand{\centro}{\def \@centro}
\newcommand{\programa}{\def \@programa}
\newcommand{\mestrado}{\def \@mestrado}
\newcommand{\curso}{\def \@curso}
\newcommand{\mestreem}{\def \@mestreem}
\newcommand{\areadeconcetracao}{\def \@areadeconcetracao}
\newcommand{\dedicatoriaa}{\def \@dedicatoriaa}
\newcommand{\dataaprovacao}{\def \@dataaprovacao}
\newcommand{\agradecimentoss}{\def \@agradecimentoss}
\newcommand{\epigrafee}{\def \@epigrafee}
\newcommand{\epigrafeeautor}{\def \@epigrafeeautor}
\newcommand{\resumoo}{\def \@resumoo}
\newcommand{\palavraschave}{\def \@palavraschave}
\newcommand{\abstractt}{\def \@abstractt}
\newcommand{\keywords}{\def \@keywords}
\newcommand{\membrodabancadois}{\def \@membrodabancadois}
\newcommand{\membrodabancatres}{\def \@membrodabancatres}
\newcommand{\membrodabancaquatro}{\def \@membrodabancaquatro}
\newcommand{\membrodabancaumies}{\def \@membrodabancaumies}
\newcommand{\membrodabancadoisies}{\def \@membrodabancadoisies}
\newcommand{\membrodabancatresies}{\def \@membrodabancatresies}
\newcommand{\membrodabancaquatroies}{\def \@membrodabancaquatroies}
\newcommand{\orientadories}{\def \@orientadories}
\newcommand{\coorientadories}{\def \@coorientadories}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        Imprimir as Variáveis        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\imprimiries}{\@ies}
\newcommand{\imprimircentro}{\@centro}
\newcommand{\imprimirprograma}{\@programa}
\newcommand{\imprimirmestrado}{\@mestrado}
\newcommand{\imprimircurso}{\@curso}
\newcommand{\imprimirmestreem}{\@mestreem}
\newcommand{\imprimirareadeconcetracao}{\@areadeconcetracao}
\newcommand{\imprimirdedicatoriaa}{\@dedicatoriaa}
\newcommand{\imprimirdataaprovacao}{\@dataaprovacao}
\newcommand{\imprimiragradecimentoss}{\@agradecimentoss}
\newcommand{\imprimirepigrafee}{\@epigrafee}
\newcommand{\imprimirepigrafeeautor}{\@epigrafeeautor}
\newcommand{\imprimirresumoo}{\@resumoo}
\newcommand{\imprimirabstractt}{\@abstractt}
\newcommand{\imprimirpalavraschave}{\@palavraschave}
\newcommand{\imprimirkeywords}{\@keywords}
\newcommand{\imprimirmembrodabancadois}{\@membrodabancadois}
\newcommand{\imprimirmembrodabancatres}{\@membrodabancatres}
\newcommand{\imprimirmembrodabancaquatro}{\@membrodabancaquatro}
\newcommand{\imprimirmembrodabancaumies}{\@membrodabancaumies}
\newcommand{\imprimirmembrodabancadoisies}{\@membrodabancadoisies}
\newcommand{\imprimirmembrodabancatresies}{\@membrodabancatresies}
\newcommand{\imprimirmembrodabancaquatroies}{\@membrodabancaquatroies}
\newcommand{\imprimirorientadories}{\@orientadories}
\newcommand{\imprimircoorientadories}{\@coorientadories}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%       Definições de Variáveis       %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\preambulo{
	Dissertação apresentada ao Curso de \imprimirmestrado\ do \imprimirprograma\ do \imprimircentro\ da \imprimiries, como requisito parcial à obtenção do título de mestre em \imprimirmestreem. \imprimirareadeconcetracao
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                Capa                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\imprimircapa}{%
	\begin{capa}%
		% Todos os elementos da capa devem esta centralizado
		\center
		% Todos os elementos da capa devem esta em negrito
		\bfseries

        \includegraphics[scale=0.11]{modelo/logo-uece} \\
        \vspace{0.1cm}
		\MakeUppercase{\imprimiries} \\
		\MakeUppercase{\imprimircentro} \\
		\abntex@ifnotempty{\imprimirprograma}{
			\MakeUppercase{\imprimirprograma} \\
		}		
		\MakeUppercase{\imprimirmestrado} \\

		\vspace{1.0cm}

		\MakeUppercase{\imprimirautor}
		
		\vspace{4cm}
		
		\MakeUppercase{\imprimirtitulo}
		
		\vfill
		\normalsize\MakeUppercase\imprimirlocal\par	
		\normalsize\imprimirdata
	\end{capa}
%    \pagebreak
%	\setcounter{page}{1}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%           Folha de Rosto            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\makeatletter
\renewcommand{\folhaderostocontent}{
	\begin{center}
		\normalsize\MakeUppercase\imprimirautor\par
		\vspace{6.5cm}\par
		\normalsize\MakeUppercase\imprimirtitulo
	\end{center}
	
	\vspace{3cm}
	
	%Retira o espaço do parágrafo
	\hspace*{-2cm}
	%Adiciona o espaço da margem
	\hspace*{8cm}	
	\begin{minipage}{8cm}
		\begin{SingleSpace}
			\imprimirpreambulo \\			
			\newline
			Orientador: \ignorespaces\imprimirorientador \\
			\abntex@ifnotempty{\imprimircoorientador}{
				\newline
				Co-Orientadores: \ignorespaces\imprimircoorientador				
			}
		\end{SingleSpace}		
	\end{minipage}
	
	\vfill
	\centering
	\normalsize\MakeUppercase\imprimirlocal \par
	\normalsize\imprimirdata	
}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%         Folha de Aprovação          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Define o comprimento da linha das assinaturas na Folha de Aprovacao
\setlength{\ABNTEXsignwidth}{12cm}

% Largura da linha da assinatura
\setlength{\ABNTEXsignthickness}{1pt}

% Espaço entre uma assintura e outra
\setlength{\ABNTEXsignskip}{\onelineskip}

\newcommand{\imprimirfolhadeaprovacao}{

	\begin{center}
		\MakeUppercase{\imprimirautor}\par
		\vspace{\onelineskip}
		\vspace{\onelineskip}
		\MakeUppercase{\imprimirtitulo}
	\end{center}
	
	\vspace{\onelineskip}
	\vspace{\onelineskip}
	
	%Retira o espaço do parágrafo
	\hspace*{-2cm}
	%Adiciona o espaço da margem
	\hspace*{8cm}	
	\begin{minipage}{8cm}
		\begin{SingleSpace}
			\imprimirpreambulo \\			
		\end{SingleSpace}		
	\end{minipage}

	\vspace{\onelineskip}
		
	\noindent Aprovada em: \imprimirdataaprovacao
	
	\vspace{\onelineskip}
	
	\begin{center}
		BANCA EXAMINADORA
	\end{center}
		\vspace{\onelineskip}

	% Membro Um da banca é sempre o Orientador
	\assinatura{\imprimirorientador\ (Orientador) \\ \imprimirorientadories}
	
	% Membro Dois da banca pode ser o coorientador ou outro membro
	\ifnotempty{\imprimircoorientador}{
		\assinatura{\imprimircoorientador\ (Co-Orientador) \\ \imprimircoorientadories}
	}
	
	% Membro Três da banca pode ser o coorientador ou outro membro
	\ifnotempty{\imprimirmembrodabancadois}{
		\assinatura{\imprimirmembrodabancadois \\ \imprimirmembrodabancadoisies}
	}
		
	% Membro Três da banca pode ser o coorientador ou outro membro
	\ifnotempty{\imprimirmembrodabancatres}{
		\assinatura{\imprimirmembrodabancatres \\ \imprimirmembrodabancatresies}
	}
	
	% Membro Quatro da banca pode ser o coorientador ou outro membro
	\ifnotempty{\imprimirmembrodabancaquatro}{
		\assinatura{\imprimirmembrodabancaquatro \\ \imprimirmembrodabancaquatroies}
	}	
	
	\pagebreak
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%             Dedicatória             %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\imprimirdedicatoria}{
	\vspace*{20cm}
	\vfill
	%Retira o espaço do parágrafo
	\hspace*{-2cm}
	%Adiciona o espaço da margem
	\hspace*{8cm}	
	\begin{minipage}{8cm}
		\imprimirdedicatoriaa
	\end{minipage}
	\pagebreak
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                Errata               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\imprimirerrata}[1]{ 
	\input{#1}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%            Agradecimentos           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\imprimiragradecimentos}{ 
	\begin{agradecimentos}
		\imprimiragradecimentoss
	\end{agradecimentos}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%               Epígrafe              %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\imprimirepigrafe}{
	\vspace*{20cm}
	\vfill
	%Retira o espaço do parágrafo
	\hspace*{-2cm}
	%Adiciona o espaço da margem
	\hspace*{8cm}	
	\begin{minipage}{8cm}
		\imprimirepigrafee
	\end{minipage}
	{\raggedleft (\imprimirepigrafeeautor)\par}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%               Resumo                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\imprimirresumo}{
	\begin{resumo}
		\imprimirresumoo
		\vspace{\onelineskip}\\
		\noindent
		\textbf{Palavras-chaves}: \imprimirpalavraschave
	\end{resumo}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%               Abstract              %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\imprimirabstract}{
	\begin{resumo}[Abstract]
		\imprimirabstractt
		\vspace{\onelineskip}\\
		\noindent
		\textbf{Keywords}: \imprimirkeywords
	\end{resumo}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%         Lista de Ilustrações        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% A lista de Ilustrações não deve aparecer no sumário

\newcommand{\imprimirlistadeilustracoes}{
	\begin{KeepFromToc} %
		\listoffigures\pagebreak %
	\end{KeepFromToc} %
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%            Lista de Tabelas         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% A lista de tabela não deve aparecer no sumário
\newcommand{\imprimirlistadetabelas}{ %
	\begin{KeepFromToc} %
		\listoftables\pagebreak %
	\end{KeepFromToc} %
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%    Lista de Abreviaturas e Siglas   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Largura da lista de abreviaturas
\setlength{\glsdescwidth}{\linewidth}

\newcommand{\imprimirlistadeabreviaturasesiglas}{ %
	\printglossary[type=\acronymtype,style=long,nonumberlist,title=Lista de Abreviaturas e Siglas] %
	\pagebreak %
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        Configuração do Sumário      %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\imprimirsumario}{ %
	\begin{KeepFromToc} %
		\tableofcontents %
	\end{KeepFromToc} %
}


% Modifica o espaçamento no sumário
% Nao ha espacos
\setlength{\cftbeforeparagraphskip}{0pt}
\setlength{\cftbeforesubsectionskip}{0pt}
\setlength{\cftbeforesectionskip}{0pt}
\setlength{\cftbeforesubsubsectionskip}{0pt}
\setlength{\cftbeforechapterskip}{0pt}

\renewcommand\cftchapterfont{\normalsize}
\renewcommand\cftsectionfont{\normalsize\normalfont}
\renewcommand\cftsubsectionfont{\normalsize}
\renewcommand\cftsubsubsectionfont{\normalsize\normalfont}
% Altera a fonte da seção quinária
\renewcommand*{\cftparagraphfont}{\normalsize\normalfont\itshape}

% Páginas do sumário não podem ser negrito.
\renewcommand\cftchapterpagefont{\normalfont}
\renewcommand\cftsectionpagefont{\normalfont}
\renewcommand\cftsubsectionpagefont{\normalfont}
% Altera a fonte da seção quinária
\renewcommand\cftparagraphpagefont{\normalfont}

% Secao Secundaria (Section): Caixa alta, Não Negrito, tamanho 12
\makeatletter
\let\oldcontentsline\contentsline
\def\contentsline#1#2{%
	\expandafter\ifx\csname l@#1\endcsname\l@section %
	\expandafter\@firstoftwo %
	\else %
	\expandafter\@secondoftwo %
	\fi %
	{%
		\oldcontentsline{#1}{\MakeTextUppercase{#2}}%
	}{%
	\oldcontentsline{#1}{#2}%
}%
}
\makeatother